<div class="app-container" [class.mobile]="mobileQuery.matches">

    <mat-sidenav-container class="sidenav-container">

        <!-- Barra lateral izquierda -->
        <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'" [opened]="!mobileQuery.matches"
            fixedInViewport>

            <!-- Logo arriba -->
            <div class="sidenav-logo">
                <img src="assets/img/logo.png" alt="Logo" />
            </div>

            <mat-nav-list *ngIf="accessibleModules$ | async as modules">

                <a mat-list-item routerLink="funcionarios" [class.active]="getActiveLink() === 'funcionarios'"
                    class="list">
                    <div class="menu-item">
                        <mat-icon>people_outline</mat-icon>
                        <span>Funcionarios</span>
                    </div>
                </a>

                <mat-expansion-panel hideToggle>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <div class="menu-item">
                                <mat-icon>tune</mat-icon>
                                <span>Preferencias</span>
                            </div>
                        </mat-panel-title>
                    </mat-expansion-panel-header>

                    <mat-nav-list>
                        <a mat-list-item routerLink="contenidos" [class.active]="getActiveLink() === 'contenidos'">
                            <div class="menu-item">
                                <mat-icon>assignment_late</mat-icon>
                                <span>Solicitudes</span>
                            </div>
                        </a>
                    </mat-nav-list>
                </mat-expansion-panel>

            </mat-nav-list>
        </mat-sidenav>

        <!-- Contenido principal -->
        <mat-sidenav-content class="content">

            <!-- Barra superior -->
            <mat-toolbar class="top-toolbar">
                <button mat-icon-button (click)="snav.toggle()"><mat-icon>menu</mat-icon></button>
                <div class="toolbar-title">
                    <h1 class="app-name">
                        <span class="app-highlight">Mi</span>Admi<span class="animated">N</span>istrador
                    </h1>

                    <div class="user-account">
                        <mat-icon class="account-icon" (click)="toggleDropdown()">account_circle</mat-icon>
                        <h1 class="user-name">{{ name() }}</h1>

                        <div class="dropdown" *ngIf="showDropdown">
                            <button mat-button (click)="logout()" class="dropdown-button">
                                <mat-icon>exit_to_app</mat-icon>
                                <span>Cerrar sesi√≥n</span>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-toolbar>

            <!-- Contenido principal del router -->
            <div class="main-content">
                <router-outlet></router-outlet>
            </div>

        </mat-sidenav-content>
    </mat-sidenav-container>
</div>